{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="{% static 'css/output.css' %}" rel="stylesheet" />
  </head>
  <body class="bg-bg font-poppins">
    <!-- Mobile Navbar (visible on small screens) -->
    <nav class="lg:hidden fixed top-0 left-0 right-0 bg-white shadow-md z-40">
      <div class="flex items-center justify-between px-4 h-16">
        <!-- Logo -->
        <div class="flex items-center">
          <img
            class="w-auto h-8"
            src="https://merakiui.com/images/logo.svg"
            alt=""
          />
        </div>

        <!-- Hamburger Menu Button -->
        <button
          id="mobile-menu-toggle"
          class="flex items-center justify-center w-10 h-10 bg-primary text-white rounded-lg shadow-lg hover:bg-primary/90 transition-colors"
        >
          <svg
            id="hamburger-icon"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
            />
          </svg>
          <svg
            id="close-icon"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6 hidden"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
        </button>
      </div>

      <!-- Mobile Dropdown Menu -->
      <div
        id="mobile-dropdown"
        class="hidden bg-white border-t border-gray-200 shadow-lg"
      >
        <div class="px-4 py-2 space-y-1">
          <a
            class="flex items-center px-3 py-3 text-gray-700 transition-colors duration-300 transform rounded-lg hover:bg-primary hover:text-white"
            href="{% url 'kasir_dashboard' %}"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-5 h-5"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5m.75-9l3-3 2.148 2.148A12.061 12.061 0 0116.5 7.605"
              />
            </svg>
            <span class="mx-2 text-sm font-medium">Dashboard</span>
          </a>

          <a
            class="flex items-center px-3 py-3 text-gray-700 transition-colors duration-300 transform rounded-lg hover:bg-primary hover:text-white"
            href="{% url 'product_list' %}"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-5 h-5"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"
              />
            </svg>
            <span class="mx-2 text-sm font-medium">Product</span>
          </a>

          <a
            class="flex items-center px-3 py-3 text-gray-700 transition-colors duration-300 transform rounded-lg hover:bg-primary hover:text-white"
            href="{% url 'order_menu' %}"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-5 h-5"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 019 9v.375M10.125 2.25A3.375 3.375 0 0113.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 013.375 3.375M9 15l2.25 2.25L15 12"
              />
            </svg>
            <span class="mx-2 text-sm font-medium">Order</span>
          </a>

          <a
            class="flex items-center px-3 py-3 text-gray-700 transition-colors duration-300 transform rounded-lg hover:bg-primary hover:text-white"
            href="{% url 'order_list' %}"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-5 h-5"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"
              />
            </svg>
            <span class="mx-2 text-sm font-medium">Order List</span>
          </a>

          <a
            class="flex items-center px-3 py-3 text-gray-700 transition-colors duration-300 transform rounded-lg hover:bg-primary hover:text-white"
            href="{% url 'kasir_order_report' %}"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-5 h-5"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"
              />
            </svg>
            <span class="mx-2 text-sm font-medium">Reporting</span>
          </a>

          <!-- User Info & Logout -->
          <div class="border-t pt-3 mt-3">
            <div class="flex items-center justify-between px-3 py-2">
              <div class="flex items-center gap-x-2">
                <div
                  class="flex items-center justify-center object-cover rounded-full h-7 w-7 bg-primary text-white font-bold"
                >
                  {% if user.is_authenticated %}{{ user.username|first|upper
                  }}{% else %}U{% endif %}
                </div>
                <span class="text-sm font-medium text-gray-700">
                  {% if user.is_authenticated %}{{ user.username }} {% endif %}
                </span>
              </div>
              <form method="post" action="{% url 'kasir_owner_logout' %}">
                {% csrf_token %}
                <button
                  type="submit"
                  title="Logout"
                  class="text-gray-500 transition-colors duration-200 rotate-180 hover:text-primary"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-5 h-5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"
                    />
                  </svg>
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <div class="flex h-screen" <!-- Mobile Overlay -->
      <div
        id="mobile-overlay"
        class="lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30 hidden"
      ></div>

      <!-- Sidebar -->
      <aside
        id="sidebar"
        class="flex flex-col w-64 h-screen px-5 py-8 overflow-y-auto bg-primary transform -translate-x-full transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static fixed z-40 mt-16 lg:mt-0"
      >
        <a href="#" class="flex items-center justify-center lg:justify-start">
          <img
            class="w-auto h-7"
            src="https://merakiui.com/images/logo.svg"
            alt=""
          />
        </a>

        <div class="flex flex-col justify-between flex-1 mt-6">
          <nav class="flex-1 -mx-3 space-y-3">
            <br />
            <a
              class="flex items-center px-3 py-2 text-white transition-colors duration-300 transform rounded-lg hover:bg-secondary hover:text-primary"
              href="{% url 'kasir_dashboard' %}"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5m.75-9l3-3 2.148 2.148A12.061 12.061 0 0116.5 7.605"
                />
              </svg>
              <span class="mx-2 text-sm font-medium">Dashboard</span>
            </a>

            <a
              class="flex items-center px-3 py-2 text-white transition-colors duration-300 transform rounded-lg hover:bg-secondary hover:text-primary"
              href="{% url 'product_list' %}"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"
                />
              </svg>
              <span class="mx-2 text-sm font-medium">Product</span>
            </a>

            <a
              class="flex items-center px-3 py-2 text-white transition-colors duration-300 transform rounded-lg hover:bg-secondary hover:text-primary"
              href="{% url 'order_menu' %}"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 019 9v.375M10.125 2.25A3.375 3.375 0 0113.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 013.375 3.375M9 15l2.25 2.25L15 12"
                />
              </svg>
              <span class="mx-2 text-sm font-medium">Order</span>
            </a>

            <a
              class="flex items-center px-3 py-2 text-white transition-colors duration-300 transform rounded-lg hover:bg-secondary hover:text-primary"
              href="{% url 'order_list' %}"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"
                />
              </svg>
              <span class="mx-2 text-sm font-medium">Order List</span>
            </a>

            <a
              class="flex items-center px-3 py-2 text-white transition-colors duration-300 transform rounded-lg hover:bg-secondary hover:text-primary"
              href="{% url 'kasir_order_report' %}"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"
                />
              </svg>
              <span class="mx-2 text-sm font-medium">Reporting</span>
            </a>
          </nav>

          <div class="mt-6">
            <div class="flex items-center justify-between mt-6">
              <div class="flex items-center gap-x-2">
                <div
                  class="flex items-center justify-center object-cover rounded-full h-7 w-7 bg-secondary text-primary font-bold"
                >
                  {% if user.is_authenticated %}{{ user.username|first|upper
                  }}{% else %}U{% endif %}
                </div>
                <span class="text-sm font-medium text-white">
                  {% if user.is_authenticated %}{{ user.username }} {% endif %}
                </span>
              </div>
              <form method="post" action="{% url 'kasir_owner_logout' %}">
                {% csrf_token %}
                <button
                  type="submit"
                  title="Logout"
                  class="text-secondary transition-colors duration-200 rotate-180 hover:text-accent"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-5 h-5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"
                    />
                  </svg>
                </button>
              </form>
            </div>
          </div>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="flex-1 p-6 overflow-y-auto bg-bg pt-20 lg:pt-6">
        {% block content %}
        <!-- Konten halaman akan muncul di sini -->
        {% endblock %}
      </main>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const mobileToggle = document.getElementById("mobile-menu-toggle");
        const mobileDropdown = document.getElementById("mobile-dropdown");
        const hamburgerIcon = document.getElementById("hamburger-icon");
        const closeIcon = document.getElementById("close-icon");

        function toggleMobileMenu() {
          const isOpen = !mobileDropdown.classList.contains("hidden");

          if (isOpen) {
            // Close dropdown
            mobileDropdown.classList.add("hidden");
            hamburgerIcon.classList.remove("hidden");
            closeIcon.classList.add("hidden");
          } else {
            // Open dropdown
            mobileDropdown.classList.remove("hidden");
            hamburgerIcon.classList.add("hidden");
            closeIcon.classList.remove("hidden");
          }
        }

        // Toggle mobile menu when button is clicked
        mobileToggle.addEventListener("click", toggleMobileMenu);

        // Close mobile menu when clicking on menu items
        const dropdownLinks = mobileDropdown.querySelectorAll("a");
        dropdownLinks.forEach((link) => {
          link.addEventListener("click", function () {
            toggleMobileMenu();
          });
        });

        // Close mobile menu when clicking outside
        document.addEventListener("click", function (event) {
          if (window.innerWidth < 1024) {
            const isClickInsideNav = event.target.closest("nav");
            if (
              !isClickInsideNav &&
              !mobileDropdown.classList.contains("hidden")
            ) {
              toggleMobileMenu();
            }
          }
        });

        // Handle window resize
        window.addEventListener("resize", function () {
          if (window.innerWidth >= 1024) {
            // Desktop view - hide mobile dropdown
            mobileDropdown.classList.add("hidden");
            hamburgerIcon.classList.remove("hidden");
            closeIcon.classList.add("hidden");
          }
        });
      });
    </script>
  </body>
</html>
